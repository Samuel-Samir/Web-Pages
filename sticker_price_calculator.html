<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sticker Price Calculator</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body{
      font-family: Arial, sans-serif;
      background:#f9f9f9; margin:0; padding:40px;
    }
    .container{
      max-width:500px; margin:auto; background:#fff; padding:25px;
      border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.1);
    }
    h2{ text-align:center; margin:0 0 10px; }
    label{ display:block; margin-top:15px; font-weight:bold; }
    input{
      width:100%; padding:8px; margin-top:5px;
      border:1px solid #ccc; border-radius:5px;
    }
    button{
      margin-top:20px; width:100%; padding:10px; font-size:16px;
      background:#28a745; color:#fff; border:0; border-radius:5px; cursor:pointer;
    }
    button:hover{ background:#218838; }
    .result{ margin-top:20px; background:#f1f1f1; padding:15px; border-radius:5px; }
    .result p{ margin:6px 0; }
    hr{ border:0; border-top:1px solid #ddd; margin:12px 0; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Sticker Price Calculator</h2>

    <label for="width">Width</label>
    <input id="width" type="number" step="any" placeholder="Enter width (cm)" />

    <label for="height">Height</label>
    <input id="height" type="number" step="any" placeholder="Enter height (cm)" />

    <label for="quantity">Quantity</label>
    <input id="quantity" type="number" step="1" placeholder="Enter quantity" />

    <button onclick="calculate()">Calculate</button>

    <div id="result" class="result"></div>
  </div>

  <script>
    const staticData = [
      { price: 40,  quantity: 300, size: 1, code: 54263 },
      { price: 60,  quantity: 500, size: 1, code: 54264 },
      { price: 40,  quantity: 300, size: 2, code: 54265 },
      { price: 60,  quantity: 500, size: 2, code: 54266 },
      { price: 40,  quantity: 100, size: 3, code: 54267 },
      { price: 60,  quantity: 200, size: 3, code: 54268 },
      { price: 90,  quantity: 300, size: 3, code: 54269 },
      { price: 100, quantity: 500, size: 3, code: 54270 },
      { price: 60,  quantity: 100, size: 4, code: 54271 },
      { price: 80,  quantity: 200, size: 4, code: 54272 },
      { price: 120, quantity: 300, size: 4, code: 54273 },
      { price: 70,  quantity: 100, size: 5, code: 54274 },
      { price: 120, quantity: 200, size: 5, code: 54275 },
      { price: 70,  quantity: 100, size: 6, code: 54277 },
      { price: 140, quantity: 200, size: 6, code: 54277 }
    ];

    const perMeter = {
      1:62,2:36,3:25,4:18,5:14,6:12,7:11,8:9,9:8,10:7,11:7,12:6,13:6,14:5,15:5,
      16:5,17:5,18:4,19:4,20:4,21:4,22:3,23:3,24:3,25:3,26:3,27:3,28:3,29:3,30:2
    };

    function getMeterPriceAndCode(meters){
      if (meters <= 5)  return { pricePerMeter: 120, code: 54314 };
      if (meters <= 10) return { pricePerMeter: 90,  code: 54315 };
      return { pricePerMeter: 70, code: 54316 };
    }

    function round1(x){ return Math.round(x * 10) / 10; }

    function calculate(){
      const w = parseFloat(document.getElementById('width').value);
      const h = parseFloat(document.getElementById('height').value);
      const q = parseInt(document.getElementById('quantity').value, 10);
      const out = document.getElementById('result');

      if (!w || !h || !q || w <= 0 || h <= 0 || q <= 0){
        out.innerHTML = "<p>Please enter valid positive numbers.</p>";
        return;
      }

      const largest = Math.max(w, h);
      const largestInt = Number.isInteger(largest) ? largest : null;
      let matched = null;
      if (largestInt !== null){
        matched = staticData.find(r => r.size === largestInt && r.quantity === q);
      }

      if (matched){
        out.innerHTML = `
          <p><b>Price:</b> ${matched.price}</p>
          <p><b>Code:</b> ${matched.code}</p>
          <hr>
          <p><b>Quantity per meter (width):</b> No data available for now</p>
          <p><b>Quantity per meter (height):</b> No data available for now</p>
          <p><b>Total stickers per meter:</b> No data available for now</p>
          <p><b>Number of meters:</b> No data available for now</p>
          <p><b>Price per meter:</b> No data available for now</p>
          <p><b>Final price:</b> No data available for now</p>
          <hr>
          <p><b>Result Type:</b> Static Data</p>
        `;
        return;
      }

      const wKey = Number.isInteger(w) ? w : null;
      const hKey = Number.isInteger(h) ? h : null;

      if (wKey === null || hKey === null || perMeter[wKey] === undefined || perMeter[hKey] === undefined){
        out.innerHTML = "<p>No per-meter lookup value found for this width or height. Please use integer sizes from 1 to 30.</p>";
        return;
      }

      const perW = perMeter[wKey];
      const perH = perMeter[hKey];
      const totalPerMeter = perW * perH;
      const metersNeeded = q / totalPerMeter;

      const { pricePerMeter, code } = getMeterPriceAndCode(metersNeeded);
      const meters1 = round1(metersNeeded);
      const finalPrice = round1(metersNeeded * pricePerMeter);

      out.innerHTML = `
        <p><b>Quantity per meter (width):</b> ${perW}</p>
        <p><b>Quantity per meter (height):</b> ${perH}</p>
        <p><b>Total stickers per meter:</b> ${totalPerMeter}</p>
        <p><b>Number of meters:</b> ${meters1}</p>
        <p><b>Price per meter:</b> ${pricePerMeter}</p>
        <p><b>Final price:</b> ${finalPrice}</p>
        <hr>
        <p><b>Code:</b> ${code}</p>
        <p><b>Result Type:</b> Calculated by Meter</p>
      `;
    }
  </script>
</body>
</html>